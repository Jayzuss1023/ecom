(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3122],{19324:()=>{},41226:()=>{},64708:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var r=s(34477);let i=(0,r.createServerReference)("7f14b3d9bd93b5000c9622de2260387fa6fe9c6078",r.callServer,void 0,r.findSourceMapURL,"invalidateCacheAction")},65509:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(65453),i=s(46786);let n=(0,r.v)()((0,i.Zr)((e,t)=>({items:[],addItem:t=>e(e=>e.items.find(e=>e.product._id===t._id)?{items:e.items.map(e=>e.product._id===t._id?{...e,quantity:e.quantity+1}:e)}:{items:[...e.items,{product:t,quantity:1}]}),removeItem:t=>e(e=>({items:e.items.reduce((e,s)=>(s.product._id===t?s.quantity>1&&e.push({...s,quantity:s.quantity-1}):e.push(s),e),[])})),clearBasket:()=>e({items:[]}),getTotalPrice:()=>t().items.reduce((e,t)=>{var s;return e+(null!==(s=t.product.price)&&void 0!==s?s:0)*t.quantity},0),getItemCount:e=>{let s=t().items.find(t=>t.product._id===e);return s?s.quantity:0},getGroupedItems:()=>t().items}),{name:"basket-store"}))},77288:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var r=s(95155);s(12115);var i=s(96796),n=s(22856),a=s(6874),l=s.n(a),c=s(45748),o=s.n(c),d=s(90330),m=s(65509);let u=function(){let{user:e}=(0,i.Jd)(),t=(0,m.A)(e=>e.items.reduce((e,t)=>e+t.quantity,0)),s=async()=>{try{let t=await (null==e?void 0:e.createPasskey());console.log(t)}catch(e){console.error("Error:",JSON.stringify(e,null,2))}};return(0,r.jsx)("header",{className:"flex flex-wrap justify-between items-center px-4 py-2",children:(0,r.jsxs)("div",{className:"flex w-full flex-wrap justiufy-between items-center",children:[(0,r.jsx)(l(),{href:"/",className:" justify-center text-2xl font-bold text-orange-400 hover:opacity-50 cursor-pointer mx-auto sm:mx-0",children:"Shopr"}),(0,r.jsx)(o(),{action:"/search",className:"w-full sm:w-auto sm:flex-1 sm:mx-4 mt- sm:mt-0 ",children:(0,r.jsx)("input",{type:"text",name:"query",placeholder:"Search for Products",className:"bg-gray-100 text-gray-800 px-4 py-2 w-full max-w-4xl rounded border focus:outline-none focus:ring-2"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0 flex-1",children:[(0,r.jsxs)(l(),{href:"/basket",className:"flex-1 relative flex justify-center sm:justify-start sm:flex-none items-center space-x-2 bg-orange-300 hover:bg-orange-400 text-white font-bold py-2 px-4 rounded",children:[(0,r.jsx)(d.$g7,{className:"w-6 h-6"}),(0,r.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:t}),(0,r.jsx)("span",{children:"My Basket"})]}),(0,r.jsx)(i.z0,{children:(0,r.jsx)(n.iB,{children:(0,r.jsxs)(l(),{href:"/orders",className:"flex-1 relative flex justify-center sm:justify-start sm:flex-none items-center space-x-2 bg-orange-300 hover:bg-orange-400 text-white font-bold py-2 px-4 rounded",children:[(0,r.jsx)(d.qDL,{}),(0,r.jsx)("span",{children:"My Orders"})]})})}),e?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.uF,{}),(0,r.jsxs)("div",{className:"hidden sm:block text-xs",children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Welcome Back!"}),(0,r.jsx)("p",{className:"font-bold",children:e.fullName})]})]}):(0,r.jsx)(i.hZ,{mode:"modal"}),(null==e?void 0:e.passkeys.length)===0&&(0,r.jsx)("button",{onClick:s,className:"border border-orange-200 rounded py-2 px-4 text-orange-200",children:"Create Passkey"})]})]})})}},87562:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,19324,23)),Promise.resolve().then(s.bind(s,77288)),Promise.resolve().then(s.bind(s,86096)),Promise.resolve().then(s.bind(s,636)),Promise.resolve().then(s.bind(s,671)),Promise.resolve().then(s.bind(s,15256)),Promise.resolve().then(s.bind(s,27016)),Promise.resolve().then(s.bind(s,61657)),Promise.resolve().then(s.bind(s,18677)),Promise.resolve().then(s.bind(s,82546)),Promise.resolve().then(s.bind(s,47978))},91518:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var r=s(34477);let i=(0,r.createServerReference)("7f026b71b2f4f7217f27fda537fc22c2837d2e6c99",r.callServer,void 0,r.findSourceMapURL,"revalidateSyncTags")}},e=>{var t=t=>e(e.s=t);e.O(0,[2533,6678,3296,3676,4527,6874,3183,1883,8441,1684,7358],()=>t(87562)),_N_E=e.O()}]);