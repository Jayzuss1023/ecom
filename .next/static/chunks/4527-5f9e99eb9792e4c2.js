"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4527],{2981:(e,t,n)=>{n.d(t,{El:()=>d,Hi:()=>u,NL:()=>a,kN:()=>i,sq:()=>l});let s=new Set,r="checking";function a(e){if(r!==e)for(let t of(r=e,s))t()}let o=new Set;function i(e){for(let e of o)e()}let u=new Set,l=null;function d(e){for(let t of(l=e,u))t()}},7668:(e,t,n)=>{let s;n.d(t,{V2:()=>_,FS:()=>E,IM:()=>U,Tx:()=>D,Rr:()=>L,vd:()=>M,_K:()=>P,CC:()=>O,RM:()=>F,Uc:()=>N,tP:()=>C});let r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},a=new Uint8Array(16),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));let i=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();let i=(e=e||{}).random??e.rng?.()??function(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(a)}();if(i.length<16)throw Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((n=n||0)<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(i)};var u=n(80898),l=n(30208),d=n(4293),c=n(60867),p=n(62789),f=n(40529),g=n(50793),y=n(88580),h=n(69647),m=n(39249),v=n(1125),b=n(98175),k=n(575),w=n(72961),T=n(77246),S=n(79332),R=n(28662);let q=e=>({context:t})=>{let{count:n,include:s,exclude:r,responseType:a="message.received"}=e;return{count:n,domain:t.domain,from:t.connectTo,include:s?Array.isArray(s)?s:[s]:[],exclude:r?Array.isArray(r)?r:[r]:[],responseType:a,target:t.target,to:t.name}},j=e=>t=>{let{data:n}=t;return(!e.include.length||e.include.includes(n.type))&&(!e.exclude.length||!e.exclude.includes(n.type))&&n.domain===e.domain&&n.from===e.from&&n.to===e.to&&(!e.target||t.source===e.target)},x=e=>t=>({type:e,message:t}),I=(0,p.v)(()=>(0,f.R)(window,"message")),O=e=>(0,u.OX)(({input:t})=>I.pipe(e?(0,g.T)(e):(0,y.F)(),(0,h.p)(j(t)),(0,g.T)(x(t.responseType)),t.count?(0,y.F)(function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,(0,v.N)(function(n,s){var r=[],a=0;n.subscribe((0,b._)(s,function(n){var o,i,u,l,d=null;a++%t==0&&r.push([]);try{for(var c=(0,m.Ju)(r),p=c.next();!p.done;p=c.next()){var f=p.value;f.push(n),e<=f.length&&(d=null!=d?d:[]).push(f)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}if(d)try{for(var g=(0,m.Ju)(d),y=g.next();!y.done;y=g.next()){var f=y.value;(0,k.o)(r,f),s.next(f)}}catch(e){u={error:e}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(u)throw u.error}}},function(){var e,t;try{for(var n=(0,m.Ju)(r),a=n.next();!a.done;a=n.next()){var o=a.value;s.next(o)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}s.complete()},void 0,function(){r=null}))})}(t.count),(0,w.H)(e=>e),(0,T.s)(t.count)):(0,y.F)())),_="sanity/comlink",P="comlink/response",M="comlink/heartbeat",E="comlink/disconnect",D="comlink/handshake/syn",L="comlink/handshake/syn-ack",U="comlink/handshake/ack",A=e=>t=>t.pipe((0,T.s)(1),(0,g.T)(()=>{throw Error(e)})),C=()=>(0,l.mj)({types:{},actors:{listen:(0,u.OX)(({input:e})=>{let t=e.signal?(0,f.R)(e.signal,"abort").pipe(A(`Request ${e.requestId} aborted`)):S.w;return(0,f.R)(window,"message").pipe((0,h.p)(t=>t.data?.type===P&&t.data?.responseTo===e.requestId&&!!t.source&&e.sources.has(t.source)),(0,T.s)(e.sources.size),(0,R.Q)(t))})},actions:{"send message":({context:e},t)=>{let{sources:n,targetOrigin:s}=e,{message:r}=t;n.forEach(e=>{e.postMessage(r,{targetOrigin:s})})},"on success":(0,d.c)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.response&&e.resolvable?.resolve(e.response),{type:"request.success",requestId:t.id,response:e.response,responseTo:e.responseTo})),"on fail":(0,d.c)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.suppressWarnings||console.warn(`[@sanity/comlink] Received no response to message '${e.type}' on client '${e.from}' (ID: '${e.id}').`),e.resolvable?.reject(Error("No response received")),{type:"request.failed",requestId:t.id})),"on abort":(0,d.c)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.resolvable?.reject(Error("Request aborted")),{type:"request.aborted",requestId:t.id}))},guards:{expectsResponse:({context:e})=>e.expectResponse},delays:{initialTimeout:0,responseTimeout:({context:e})=>e.responseTimeout??3e3}}).createMachine({context:({input:e})=>({channelId:e.channelId,data:e.data,domain:e.domain,expectResponse:e.expectResponse??!1,from:e.from,id:`msg-${i()}`,parentRef:e.parentRef,resolvable:e.resolvable,response:null,responseTimeout:e.responseTimeout,responseTo:e.responseTo,signal:e.signal,sources:e.sources instanceof Set?e.sources:new Set([e.sources]),suppressWarnings:e.suppressWarnings,targetOrigin:e.targetOrigin,to:e.to,type:e.type}),initial:"idle",on:{abort:".aborted"},states:{idle:{after:{initialTimeout:[{target:"sending"}]}},sending:{entry:{type:"send message",params:({context:e})=>{let{channelId:t,data:n,domain:s,from:r,id:a,responseTo:o,to:i,type:u}=e;return{message:{channelId:t,data:n,domain:s,from:r,id:a,to:i,type:u,responseTo:o}}}},always:[{guard:"expectsResponse",target:"awaiting"},"success"]},awaiting:{invoke:{id:"listen for response",src:"listen",input:({context:e})=>({requestId:e.id,sources:e.sources,signal:e.signal}),onError:"aborted"},after:{responseTimeout:"failed"},on:{message:{actions:(0,d.a)({response:({event:e})=>e.data.data,responseTo:({event:e})=>e.data.responseTo}),target:"success"}}},failed:{type:"final",entry:"on fail"},success:{type:"final",entry:"on success"},aborted:{type:"final",entry:"on abort"}},output:({context:e,self:t})=>({requestId:t.id,response:e.response,responseTo:e.responseTo})}),N=((0,u.SP)(({sendBack:e,input:t})=>{let n=()=>{e(t.event)};t.immediate&&n();let s=setInterval(n,t.interval);return()=>{clearInterval(s)}}),()=>(0,l.mj)({types:{},actors:{requestMachine:C(),listen:O()},actions:{"buffer handshake":(0,d.a)({handshakeBuffer:({event:e,context:t})=>((0,l.DT)(e,"message.received"),[...t.handshakeBuffer,e])}),"buffer message":(0,d.b)(({enqueue:e})=>{e.assign({buffer:({event:e,context:t})=>((0,l.DT)(e,"post"),[...t.buffer,{data:e.data,resolvable:e.resolvable,options:e.options}])}),e.emit(({event:e})=>((0,l.DT)(e,"post"),{type:"buffer.added",message:e.data}))}),"create request":(0,d.a)({requests:({context:e,event:t,self:n,spawn:s})=>{(0,l.DT)(t,"request");let r=(Array.isArray(t.data)?t.data:[t.data]).map(t=>s("requestMachine",{id:`req-${i()}`,input:{channelId:e.channelId,data:t.data,domain:e.domain,expectResponse:t.expectResponse,from:e.name,parentRef:n,resolvable:t.resolvable,responseTimeout:t.options?.responseTimeout,responseTo:t.responseTo,signal:t.options?.signal,sources:e.target,suppressWarnings:t.options?.suppressWarnings,targetOrigin:e.targetOrigin,to:e.connectTo,type:t.type}}));return[...e.requests,...r]}}),"emit heartbeat":(0,d.e)(()=>({type:"heartbeat"})),"emit received message":(0,d.b)(({enqueue:e})=>{e.emit(({event:e})=>((0,l.DT)(e,"message.received"),{type:"message",message:e.message.data}))}),"emit status":(0,d.e)((e,t)=>({type:"status",status:t.status})),"post message":(0,c.O)(({event:e})=>((0,l.DT)(e,"post"),{type:"request",data:{data:e.data.data,expectResponse:!!e.resolvable,type:e.data.type,resolvable:e.resolvable,options:e.options}})),"process pending handshakes":(0,d.b)(({context:e,enqueue:t})=>{e.handshakeBuffer.forEach(e=>t.raise(e)),t.assign({handshakeBuffer:[]})}),"remove request":(0,d.b)(({context:e,enqueue:t,event:n})=>{(0,l.DT)(n,["request.success","request.failed","request.aborted"]),(0,c.R)(n.requestId),t.assign({requests:e.requests.filter(({id:e})=>e!==n.requestId)})}),"send response":(0,c.O)(({event:e})=>((0,l.DT)(e,["message.received","heartbeat.received"]),{type:"request",data:{type:P,responseTo:e.message.data.id,data:void 0}})),"send handshake syn ack":(0,c.O)({type:"request",data:{type:L}}),"send pending messages":(0,d.b)(({enqueue:e})=>{e.raise(({context:e})=>({type:"request",data:e.buffer.map(({data:e,resolvable:t,options:n})=>({data:e.data,type:e.type,expectResponse:!!t,resolvable:t,options:n}))})),e.emit(({context:e})=>({type:"buffer.flushed",messages:e.buffer.map(({data:e})=>e)})),e.assign({buffer:[]})}),"set connection config":(0,d.a)({channelId:({event:e})=>((0,l.DT)(e,"handshake.syn"),e.message.data.channelId),target:({event:e})=>((0,l.DT)(e,"handshake.syn"),e.message.source||void 0),targetOrigin:({event:e})=>((0,l.DT)(e,"handshake.syn"),e.message.origin)})},guards:{hasSource:({context:e})=>null!==e.target}}).createMachine({id:"node",context:({input:e})=>({buffer:[],channelId:null,connectTo:e.connectTo,domain:e.domain??_,handshakeBuffer:[],name:e.name,requests:[],target:void 0,targetOrigin:null}),invoke:{id:"listen for handshake syn",src:"listen",input:q({include:D,responseType:"handshake.syn"})},on:{"request.success":{actions:"remove request"},"request.failed":{actions:"remove request"},"request.aborted":{actions:"remove request"},"handshake.syn":{actions:"set connection config",target:".handshaking"}},initial:"idle",states:{idle:{entry:[{type:"emit status",params:{status:"idle"}}],on:{post:{actions:"buffer message"}}},handshaking:{guard:"hasSource",entry:["send handshake syn ack",{type:"emit status",params:{status:"handshaking"}}],invoke:[{id:"listen for handshake ack",src:"listen",input:q({include:U,count:1,responseType:"handshake.complete"}),onDone:"connected"},{id:"listen for disconnect",src:"listen",input:q({include:E,count:1,responseType:"disconnect"})},{id:"listen for messages",src:"listen",input:q({exclude:[E,D,U,M,P]})}],on:{request:{actions:"create request"},post:{actions:"buffer message"},"message.received":{actions:"buffer handshake"},disconnect:{target:"idle"}}},connected:{entry:["process pending handshakes","send pending messages",{type:"emit status",params:{status:"connected"}}],invoke:[{id:"listen for messages",src:"listen",input:q({exclude:[E,D,U,M,P]})},{id:"listen for heartbeat",src:"listen",input:q({include:M,responseType:"heartbeat.received"})},{id:"listen for disconnect",src:"listen",input:q({include:E,count:1,responseType:"disconnect"})}],on:{request:{actions:"create request"},post:{actions:"post message"},disconnect:{target:"idle"},"message.received":{actions:["send response","emit received message"]},"heartbeat.received":{actions:["send response","emit heartbeat"]}}}}})),F=(e,t=N())=>{let n;let s=(0,c.A)(t,{input:e}),r=new Map,a=new Map;s.on("message",({message:e})=>{let t=r.get(e.type);if(t){t.forEach(t=>t(e.data));return}let n=a.get(e.type);n?n.add(e):a.set(e.type,new Set([e]))});let o=()=>{s.stop()};return{actor:s,fetch:(e,t,n)=>{let{responseTimeout:r=1e4,signal:a,suppressWarnings:o}=n||{},i=Promise.withResolvers();return s.send({type:"post",data:{type:e,data:t},resolvable:i,options:{responseTimeout:r,signal:a,suppressWarnings:o}}),i.promise},machine:t,on:(e,t,n)=>{let s=r.get(e)||new Set;r.has(e)||r.set(e,s),s.add(t);let o=a.get(e);if(o){let s=n?.replay??1;Array.from(o).slice(-s).forEach(({data:e})=>t(e)),a.delete(e)}return()=>{s.delete(t)}},onStatus:(e,t)=>{let{unsubscribe:r}=s.on("status",s=>{n=s.status,t&&s.status!==t||e(s.status)});return n&&e(n),r},post:(e,t)=>{s.send({type:"post",data:{type:e,data:t}})},start:()=>(s.start(),o),stop:o}}},10255:(e,t,n)=>{function s(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return s}}),n(95155),n(47650),n(85744),n(20589)},17828:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return s}});let s=(0,n(64054).createAsyncLocalStorage)()},18677:(e,t,n)=>{n.d(t,{default:()=>a});var s=n(95155);let r=(0,n(55028).default)(()=>n.e(2258).then(n.bind(n,92258)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/SanityLiveStream.js")]},ssr:!1});function a(e){return(0,s.jsx)(r,{...e})}},34477:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return a},findSourceMapURL:function(){return r.findSourceMapURL}});let s=n(53806),r=n(31818),a=n(34979).createServerReference},35695:(e,t,n)=>{var s=n(18999);n.o(s,"useParams")&&n.d(t,{useParams:function(){return s.useParams}}),n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}}),n.o(s,"useSelectedLayoutSegments")&&n.d(t,{useSelectedLayoutSegments:function(){return s.useSelectedLayoutSegments}}),n.o(s,"useServerInsertedHTML")&&n.d(t,{useServerInsertedHTML:function(){return s.useServerInsertedHTML}})},36645:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let s=n(88229)._(n(67357));function r(e,t){var n;let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,s.default)({...a,modules:null==(n=a.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47978:(e,t,n)=>{n.d(t,{default:()=>o});var s=n(95155),r=n(12115);let a=(0,r.lazy)(()=>Promise.all([n.e(6678),n.e(6654),n.e(4945),n.e(6707),n.e(4837),n.e(8723)]).then(n.bind(n,64837)));function o(e){return(0,s.jsx)(r.Suspense,{fallback:null,children:(0,s.jsx)(a,{...e})})}},55028:(e,t,n)=>{n.d(t,{default:()=>r.a});var s=n(36645),r=n.n(s)},62146:(e,t,n)=>{function s(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}}),n(45262)},64054:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return i}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class s{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let r="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return r?new r:new s}function o(e){return r?r.bind(e):s.bind(e)}function i(){return r?r.snapshot():function(e,...t){return e(...t)}}},67192:(e,t,n)=>{n.d(t,{Fk:()=>d,jF:()=>l,v$:()=>c,vY:()=>p});var s=n(7668);let r={"handshake/syn":s.Tx,"handshake/syn-ack":s.Rr,"handshake/ack":s.IM,"channel/response":s._K,"channel/heartbeat":s.vd,"channel/disconnect":s.FS,"overlay/focus":"visual-editing/focus","overlay/navigate":"visual-editing/navigate","overlay/toggle":"visual-editing/toggle","presentation/toggleOverlay":"presentation/toggle-overlay"},a={[s.Tx]:"handshake/syn",[s.Rr]:"handshake/syn-ack",[s.IM]:"handshake/ack",[s._K]:"channel/response",[s.vd]:"channel/heartbeat",[s.FS]:"channel/disconnect","visual-editing/focus":"overlay/focus","visual-editing/navigate":"overlay/navigate","visual-editing/toggle":"overlay/toggle","presentation/toggle-overlay":"presentation/toggleOverlay"},o=e=>{let{data:t}=e;return t&&"object"==typeof t&&"domain"in t&&"type"in t&&"from"in t&&"to"in t&&("sanity/channels"===t.domain&&(t.domain=s.V2),"overlays"===t.to&&(t.to="visual-editing"),"overlays"===t.from&&(t.from="visual-editing"),t.channelId=t.connectionId,delete t.connectionId,t.type=r[t.type]??t.type),e},i=e=>{let{channelId:t,...n}=e,r={...n,connectionId:t};return r.domain===s.V2&&(r.domain="sanity/channels"),"visual-editing"===r.to&&(r.to="overlays"),"visual-editing"===r.from&&(r.from="overlays"),r.type=a[r.type]??r.type,"channel/response"===r.type&&r.responseTo&&!r.data&&(r.data={responseTo:r.responseTo}),("handshake/syn"===r.type||"handshake/syn-ack"===r.type||"handshake/ack"===r.type)&&(r.data={id:r.connectionId}),r},u=({context:e},t)=>{let{sources:n,targetOrigin:s}=e,r=i(t.message);n.forEach(e=>{e.postMessage(r,{targetOrigin:s})})},l=()=>({listen:(0,s.CC)(o),requestMachine:(0,s.tP)().provide({actions:{"send message":u}})});function d(){return window.self!==window.top}function c(){return!!window.opener}function p(){return d()||c()}},67357:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let s=n(95155),r=n(12115),a=n(62146);function o(e){return{default:e&&"default"in e?e.default:e}}n(10255);let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},u=function(e){let t={...i,...e},n=(0,r.lazy)(()=>t.loader().then(o)),u=t.loading;function l(e){let o=u?(0,s.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,l=i?r.Suspense:r.Fragment,d=t.ssr?(0,s.jsxs)(s.Fragment,{children:[null,(0,s.jsx)(n,{...e})]}):(0,s.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(n,{...e})});return(0,s.jsx)(l,{...i?{fallback:o}:{},children:d})}return l.displayName="LoadableComponent",l}},82546:(e,t,n)=>{n.d(t,{default:()=>m});var s=n(95155),r=n(63296),a=n(91518),o=n(67192),i=n(55028),u=n(35695),l=n(12115),d=n(46295),c=n(2981);let p=(0,i.default)(()=>n.e(9993).then(n.bind(n,19993)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/PresentationComlink.js")]},ssr:!1}),f=(0,i.default)(()=>n.e(8513).then(n.bind(n,58513)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnMount.js")]},ssr:!1}),g=(0,i.default)(()=>n.e(6376).then(n.bind(n,26376)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnFocus.js")]},ssr:!1}),y=(0,i.default)(()=>n.e(2977).then(n.bind(n,32977)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnReconnect.js")]},ssr:!1}),h=e=>{var t;e instanceof r.u_?console.warn("Sanity Live is unable to connect to the Sanity API as the current origin - ".concat(window.origin," - is not in the list of allowed CORS origins for this Sanity Project."),e.addOriginUrl&&"Add it here:",null===(t=e.addOriginUrl)||void 0===t?void 0:t.toString()):console.error(e)};function m(e){let{projectId:t,dataset:n,apiHost:i,apiVersion:m,useProjectHostname:v,token:b,requestTagPrefix:k,draftModeEnabled:w,draftModePerspective:T,refreshOnMount:S=!1,refreshOnFocus:R=!w&&(typeof window>"u"||window.self===window.top),refreshOnReconnect:q=!0,requestTag:j="next-loader.live",onError:x=h}=e,I=(0,l.useMemo)(()=>(0,r.UU)({projectId:t,dataset:n,apiHost:i,apiVersion:m,useProjectHostname:v,ignoreBrowserTokenWarning:!0,token:b,useCdn:!1,requestTagPrefix:k}),[i,m,n,t,k,b,v]),O=(0,u.useRouter)(),_=(0,d.J)(e=>{"message"===e.type?(0,a.Q)(e.tags):("restart"===e.type||"reconnect"===e.type)&&O.refresh()});(0,l.useEffect)(()=>{let e=I.live.events({includeDrafts:!!b,tag:j}).subscribe({next:_,error:e=>{x(e)}});return()=>e.unsubscribe()},[I.live,x,j,b]),(0,l.useEffect)(()=>{w&&T?(0,c.NL)(T):(0,c.NL)("unknown")},[w,T]);let[P,M]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!(0,o.vY)()){if(w&&b){(0,c.kN)("live");return}if(w){(0,c.kN)("static");return}(0,c.kN)("unknown")}},[w,b]),(0,l.useEffect)(()=>{if(!(0,o.vY)())return;let e=new AbortController,t=setTimeout(()=>(0,c.kN)("live"),3e3);return window.addEventListener("message",n=>{let{data:s}=n;s&&"object"==typeof s&&"domain"in s&&"sanity/channels"===s.domain&&"from"in s&&"presentation"===s.from&&(clearTimeout(t),(0,c.kN)((0,o.v$)()?"presentation-window":"presentation-iframe"),M(!0),e.abort())},{signal:e.signal}),()=>{clearTimeout(t),e.abort()}},[]);let E=(0,l.useRef)(void 0);return(0,l.useEffect)(()=>{if(w)return clearTimeout(E.current),()=>{E.current=setTimeout(()=>{console.warn("Sanity Live: Draft mode was enabled, but is now being disabled")})}},[w]),(0,s.jsxs)(s.Fragment,{children:[w&&P&&(0,s.jsx)(p,{draftModeEnabled:w,draftModePerspective:T}),!w&&S&&(0,s.jsx)(f,{}),!w&&R&&(0,s.jsx)(g,{}),!w&&q&&(0,s.jsx)(y,{})]})}m.displayName="SanityLive"},85744:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return s.workAsyncStorageInstance}});let s=n(17828)}}]);